(function(e){function s(s){for(var o,n,a=s[0],c=s[1],l=s[2],u=0,d=[];u<a.length;u++)n=a[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);f&&f(s);while(d.length)d.shift()();return i.push.apply(i,l||[]),t()}function t(){for(var e,s=0;s<i.length;s++){for(var t=i[s],o=!0,n=1;n<t.length;n++){var a=t[n];0!==r[a]&&(o=!1)}o&&(i.splice(s--,1),e=c(c.s=t[0]))}return e}var o={},n={app:0},r={app:0},i=[];function a(e){return c.p+"js/"+({session:"session"}[e]||e)+"."+{session:"0fac76ae"}[e]+".js"}function c(s){if(o[s])return o[s].exports;var t=o[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var s=[],t={session:1};n[e]?s.push(n[e]):0!==n[e]&&t[e]&&s.push(n[e]=new Promise((function(s,t){for(var o="css/"+({session:"session"}[e]||e)+"."+{session:"a6800d3f"}[e]+".css",r=c.p+o,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var l=i[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===r))return s()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){l=d[a],u=l.getAttribute("data-href");if(u===o||u===r)return s()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=s,f.onerror=function(s){var o=s&&s.target&&s.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete n[e],f.parentNode.removeChild(f),t(i)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){n[e]=0})));var o=r[e];if(0!==o)if(o)s.push(o[2]);else{var i=new Promise((function(s,t){o=r[e]=[s,t]}));s.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(e);var d=new Error;l=function(s){u.onerror=u.onload=null,clearTimeout(f);var t=r[e];if(0!==t){if(t){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",d.name="ChunkLoadError",d.type=o,d.request=n,t[1](d)}r[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(s)},c.m=e,c.c=o,c.d=function(e,s,t){c.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,s){if(1&s&&(e=c(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var o in e)c.d(t,o,function(s){return e[s]}.bind(null,o));return t},c.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(s,"a",s),s},c.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=s,l=l.slice();for(var d=0;d<l.length;d++)s(l[d]);var f=u;i.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("cd49")},"034f":function(e,s,t){"use strict";var o=t("85ec"),n=t.n(o);n.a},2154:function(e,s,t){"use strict";var o=t("ed34"),n=t.n(o);n.a},"62ca":function(e,s,t){"use strict";var o=t("90d1"),n=t.n(o);n.a},"714b":function(e,s,t){"use strict";var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return this.open?t("div",{staticClass:"modal",class:{"is-fixed":e.fixed}},[t("div",{staticClass:"backdrop",on:{click:function(s){return e.$emit("close")}}}),t("div",{staticClass:"dialog"},[t("header",{staticClass:"header"},[e._t("header"),t("span",{staticClass:"close-icon",on:{click:function(s){return e.$emit("close")}}},[e._t("close-icon",[e._v("×")])],2)],2),t("div",{staticClass:"content"},[e._t("default")],2),t("footer",{staticClass:"footer"},[e._t("footer",[t("button",{on:{click:function(s){return e.$emit("close")}}},[e._v("Close")])])],2)])]):e._e()},n=[],r={name:"Modal",props:{open:Boolean,fixed:{type:Boolean,default:!1}}},i=r,a=(t("62ca"),t("2877")),c=Object(a["a"])(i,o,n,!1,null,"4a83eccf",null);s["a"]=c.exports},"85ec":function(e,s,t){},"90d1":function(e,s,t){},ba11:function(e,s,t){"use strict";var o=t("de83"),n=t.n(o);n.a},cd49:function(e,s,t){"use strict";t.r(s);var o=t("2b0e"),n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),t("router-view")],1)},r=[],i=(t("034f"),t("2877")),a={},c=Object(i["a"])(a,n,r,!1,null,null,null),l=c.exports,u=t("9483");Object(u["a"])("/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=t("8c4f"),f=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("main",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:t("cf05")}}),o("form",{staticClass:"form",on:{submit:function(s){return s.preventDefault(),e.submit(s)}}},[o("fieldset",[o("legend",[e._v(" Start a conference ")]),o("label",[e._v(" Server URL "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.serverUrl,expression:"serverUrl"}],attrs:{type:"url",required:""},domProps:{value:e.serverUrl},on:{input:function(s){s.target.composing||(e.serverUrl=s.target.value)}}})]),o("label",[e._v(" Session Name "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sessionName,expression:"sessionName"}],staticClass:"text-input",attrs:{type:"text",required:""},domProps:{value:e.sessionName},on:{input:function(s){s.target.composing||(e.sessionName=s.target.value)}}})]),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.sessionWithPassword,expression:"sessionWithPassword"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.sessionWithPassword)?e._i(e.sessionWithPassword,null)>-1:e.sessionWithPassword},on:{change:function(s){var t=e.sessionWithPassword,o=s.target,n=!!o.checked;if(Array.isArray(t)){var r=null,i=e._i(t,r);o.checked?i<0&&(e.sessionWithPassword=t.concat([r])):i>-1&&(e.sessionWithPassword=t.slice(0,i).concat(t.slice(i+1)))}else e.sessionWithPassword=n}}}),e._v(" Add a password ")]),e.sessionWithPassword?o("label",[e._v(" Password "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text-input",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}})]):e._e(),o("hr"),e._m(0)]),o("Modal",{attrs:{fixed:"",open:e.createSessionLoading||e.sessionExistsLoading},on:{close:e.resetForm},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Loading…")])]},proxy:!0},{key:"footer",fn:function(){return[o("p",{staticStyle:{"text-align":"center"}},[e._v("No actions")])]},proxy:!0}])},[e.sessionExistsLoading?o("p",[e._v("Checking if session is available")]):e._e(),e.createSessionLoading?o("p",[e._v("Creating session")]):e._e()]),o("Modal",{attrs:{fixed:"",open:e.sessionExists},on:{close:e.resetForm},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Sorry!")])]},proxy:!0}])},[o("p",[e._v("This section already exists")])]),o("Modal",{attrs:{fixed:"",open:!1===e.createdSessionSuccessfully},on:{close:e.resetForm},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Something went wrong")])]},proxy:!0}])},[o("p",[e._v("For an unknown reason, we were unable to create your session. Please try again.")]),o("p",[e._v("If the problem persists, maybe try a bit later. Sorry for the inconvenience.")])]),o("Modal",{attrs:{fixed:"",open:!0===e.unableToReachServer},on:{close:e.resetForm},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Oopsie…")])]},proxy:!0}])},[o("p",[e._v("It looks like the server is taking a nap, we can’t reach it… :/")])]),o("Modal",{attrs:{fixed:"",open:e.createdSessionSuccessfully},scopedSlots:e._u([{key:"header",fn:function(){return[o("h3",[e._v("Success !")])]},proxy:!0},e.sessionUrl?{key:"footer",fn:function(){return[o("button",{on:{click:function(s){e.$router.push(e.sessionUrl.href.replace(e.sessionUrl.origin,""))}}},[e._v("Let’s go !")])]},proxy:!0}:null],null,!0)},[e.sessionUrl?o("p",[e._v(" Copy the following link to share with your friends: "),o("input",{attrs:{type:"text"},domProps:{value:e.sessionUrl.href}})]):e._e()])],1)])},p=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"form-footer"},[t("button",{attrs:{type:"submit"}},[e._v("Submit")])])}],h=t("714b"),v=t("12fd"),m={name:"Home",components:{Modal:h["a"]},data:()=>({sessionName:"",sessionWithPassword:!1,password:"",serverUrl:"",sessionUrl:void 0,unableToReachServer:void 0,sessionExistsLoading:!1,sessionExists:void 0,createSessionLoading:!1,createdSessionSuccessfully:void 0}),methods:{async submit(){const e=new v["ServerAPI"]({url:new URL(this.serverUrl).origin});this.sessionExistsLoading=!0;try{const s=await e.sessionExists(this.sessionName);this.sessionExists=s.ok}catch(s){this.unableToReachServer=!0}if(this.sessionExistsLoading=!1,!this.unableToReachServer&&!this.sessionExists){this.createSessionLoading=!0;try{const s=await e.createSession(this.sessionName,this.password);this.createdSessionSuccessfully=s.ok,this.sessionUrl=new URL("/sessions/"+this.sessionName,window.location.origin),this.sessionUrl.searchParams.set("serverUrl",this.serverUrl),this.password&&this.sessionUrl.searchParams.set("password",this.password)}catch(s){this.unableToReachServer=!0}this.createSessionLoading=!1}},resetForm(){this.unableToReachServer=void 0,this.sessionUrl=void 0,this.sessionExistsLoading=!1,this.sessionExists=void 0,this.createSessionLoading=!1,this.createdSessionSuccessfully=void 0}}},g=m,y=(t("ba11"),t("2154"),Object(i["a"])(g,f,p,!1,null,"18a1c2c2",null)),w=y.exports;o["a"].use(d["a"]);var b=[{path:"/",name:"Home",component:w},{path:"/sessions/:sessionName",name:"Session",component:function(){return t.e("session").then(t.bind(null,"78b4"))}}],_=new d["a"]({mode:"history",base:"/",routes:b}),x=_;o["a"].config.productionTip=!1,new o["a"]({router:x,render:function(e){return e(l)}}).$mount("#app")},cf05:function(e,s,t){e.exports=t.p+"img/logo.82b9c7a5.png"},de83:function(e,s,t){},ed34:function(e,s,t){}});
//# sourceMappingURL=app.85366d15.js.map